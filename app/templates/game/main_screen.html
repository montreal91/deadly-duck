
{% extends "base.html" %}

{% block subtitle %}
    Season: {{ current_user.current_season_n }} Day: {{ current_user.current_day_n }}
{% endblock %}

{% block page_content %}
<div id="dd-main-screen-app">
  <div class="page-header">
    <h2>{{ club.club_name_c }}</h2>
  </div>
  <p>
    Ongoing season: <mark>{{ current_user.current_season_n }}</mark><br>
    Today is: <mark>{{ current_user.current_day_n }}</mark><br>
  </p>
  <div class="col-md-6">

  <h4 v-if="match !== null">Upcoming match is</h4>
  <h3 v-text="match_banner"></h3>
  <p v-if="away_player !== null">
    <label>Away Team Player:</label>
    <button
      class="btn-link"
      v-text="PlayerName(away_player)"
      v-on:click="ToggleShowAwayPlayer"
    ></button>
    <table class="table" v-if="show_away_player">
      <tr>
        <td>Level</td><td v-text="away_player.level"></td>
      </tr>
      <tr>
        <td>Technique</td>
        <td>
          <strong v-text="FloatToFixed(away_player.actual_technique)"></strong> /
          <span v-text="FloatToFixed(away_player.technique)"></span>
        </td>
      </tr>
      <tr>
        <td>Endurance</td>
        <td v-text="FloatToFixed(away_player.endurance)"></td>
      </tr>
    </table>
  </p>
  <p>
    <button class="btn btn-primary btn-block" v-on:click="NextDay">
      Next Day
    </button>
  </p>
  <p>
    <a href="{{ url_for('game.Playoffs' ) }}" class="btn btn-default btn-block">
      PlayOffs
    </a>
  </p>
  <p>
    <a href="{{ url_for('game.Standings', season=current_user.current_season_n) }}" class="btn btn-default btn-block">Standings</a>
  </p>
  <p>
    <a href="{{ url_for('game.FreeAgents') }}" class="btn btn-default btn-block">Free Agents</a>
  </p>
  </div>
  <div class="col-md-6">

  <h3>Players</h3>

  <table class="table">
    <tr>
      <th>#</th>
      <th>Name</th>
      <th>Technique</th>
      <th>Endurance</th>
      <th>Level</th>
      <th>Age</th>
      <th></th>
    </tr>

    <tr
      v-for="(player, index) in players"
      v-bind:class="{info: player.pk === selected}"
    >
      <td v-text="index + 1"></td>
      <td>
        <button class="btn-link" v-text="PlayerName(player)" v-on:click="SelectPlayer(player)"></button>
      </td>
      <td>
        <strong v-text="FloatToFixed(player.actual_technique)"></strong> /
        <span v-text="FloatToFixed(player.technique)"></span>
      </td>
      <td v-text="FloatToFixed(player.endurance)"></td>
      <td v-text="player.level"></td>
      <td v-text="player.age"></td>
      <td>Details</td>
    </tr>

  </table>
</div>
{% endblock %}

{% block vue_templates %}
  {{ super() }}
  <script type="text/x-template" id="dd-vue-template-player-row">
  {% include "includes/current_match_or_standings.html" %}
  </script>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script type="text/javascript" src="{{url_for('static', filename='main_screen.js') }}"></script>
{% endblock %}
